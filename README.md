```
  _____          _    _
 |__  /___ _ __ | | _(_)
   / // _ \ '_ \| |/ / |
  / /|  __/ | | |   <| |
 /____\___|_| |_|_|\_\_|
```
Mastodon download tool.

# Requirements
* Python >3.5

# Setup
* Download `zenki.py` and place it in a folder. The script will generate some files so a folder on it's own is recommended.
* Run `zenki.py Setup` to start the setup stuff. This will ask for some details like the instance URL, and email and password.

# Commands

Note: "user" may refer to the mastodon username(@nokusu, nokusu, @nokusu@pawoo.net) or ID(123567).

## `help`
  * Show this message.

## `Setup`
  * Run the initial setup process, mastodon requires an account to get full access to the required API features.
  * This will generate `config.py`, `zenki.app.secret` and `zenki.user.secret`.

## `DownloadUserTimeline {user}`
  * Downloads the media timeline of the specified user.
  ```
  zenki.py DownloadUserTimeline @nokusu
  ```

## `DownloadFollowingTimeline {user}`
  * Downloads the timelines of the accounts the specified user is following.
  ```
  zenki.py DownloadFollowingTimeline @nokusu
  ```

# Configuration
```
{
    \\ Mastodon Instance URL
    "base_url": "https://pawoo.net",

    \\ Zenki App Secret File, generated by setup.
    "app_secret": "zenki.app.secret", 

    \\ Zenki User Secret File, generated by setup.
    "user_secret": "zenki.user.secret",

    \\ Logged in user.
    "email": "nokusukun@yahoo.co.jp",

    \\ Download Configuration
    "download": {
        \\ Path to save the images.
        "save_path": "./",

        \\ Create a folder when a status has multiple attachments.
        "folder_if_multiple": true,
        
        \\ Create a folder for each user
        "folder_per_user": true,
        
        \\ Format for User folder
        "user_folder_format": "{account.id}-{account.acct}",
        
        \\ Format for attachment filename
        "media_filename_format": "{media.id}-{raw}.{extension}",
        
        \\ Download Queue Size. Default 10.
        "queue_size": 10,
        
        \\ Maximum parallel downloads. Default 5.
        "worker_size": 5,
        
        \\ Overwrite attachments that are already on the disk.
        "overwrite_existing": false
    }
}
```

# noargs
A `noargs` file can be placed in the root directory where `zenki.py` resides. This file will be used if no parameters has been passed when running `zenki.py`. Usually useful when you want zenki to run at boot.

**noargs example** 
```
DownloadFollowingTimeline @nokusu
```
Running `zenki.py` as is with this noargs file will start downloading the timeline of the users @nokusu is following. 